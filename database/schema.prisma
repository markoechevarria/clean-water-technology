generator client {
  provider = "prisma-client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  id_user       Int             @default(autoincrement())  @id
  name          String
  last_name     String
  document      String
  registry_date DateTime
  email         String          @unique
  password      String

  course_users  course_user[]
}

model courses {  
  id_course       Int           @default(autoincrement())   @id
  name            String 
  description     String
  creation_date   DateTime
  num_modules     Int
  code            String

  course_users    course_user[]
  modules         modules[]
}

model course_user {
  id_course_user    Int       @default(autoincrement())     @id
  id_user           Int
  id_course         Int
  registry_date     DateTime
  status            String

  user              users     @relation(fields: [id_user], references: [id_user])
  course            courses   @relation(fields: [id_course], references: [id_course])
}

model modules {
  id_module        Int        @default(autoincrement())     @id
  id_course        Int
  title            String
  description      String

  course           courses    @relation(fields: [id_course], references: [id_course])
}